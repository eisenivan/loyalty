/*
 *  jQuery Boilerplate - v3.3.4
 *  A jump-start for jQuery plugins development.
 *  http://jqueryboilerplate.com
 *
 *  Made by Zeno Rocha
 *  Under MIT License
 */
!function(a){function b(b,e){this.element=b,this.settings=a.extend({},d,e),this._defaults=d,this._name=c,this.init()}var c="loyalty_js",d={delay:30};a.extend(b.prototype,{init:function(){this.trackViews(this.settings.delay)},trackViews:function(a){var b=6e4*a;if(void 0!==Storage){var c=0;localStorage.getItem("loyalty_views")&&(c=parseInt(localStorage.getItem("loyalty_views")));var d=c+1;if(localStorage.getItem("loyalty_timestamp")){var e=(new Date).getTime()/b,f=localStorage.getItem("loyalty_timestamp");e-f>b&&Roots.common.bumpCount(d,b)}else Roots.common.bumpCount(d,b);this.domRender()}},bumpCount:function(a,b){console.log("LoyaltyJs: Counting as a new session"),localStorage.setItem("loyalty_views",a),localStorage.setItem("loyalty_timestamp",(new Date).getTime()/b)},domRender:function(){a("html").attr("data-loyaltyViews",newViewsCount)}}),a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))}),this}}(jQuery,window,document);